---
import Button from "../../Button.astro";
import Category from "./Category.astro";

export interface Props {
  title: string;
  image: string;
  categories: string[];
  author: string;
  price?: number;
}

const { title, image, categories, author, price = 0 } = Astro.props as Props;

const priceTag = price === 0 ? "Free" : `$${price}`;
const imgSrc = `/codemart-frontend/assets/img/${image}`;
---

<div class="bg-recandy-white-0 shadow-2xl pb-3">
  <div class="h-1/2">
    <img class="h-full w-full" src={imgSrc} alt="" />
  </div>

  <div class="h-1/2">
    <div class="h-1/3 ml-3 mt-2 flex flex-row flex-wrap items-center space-x-2">
      {categories.map((category) => <Category>{category}</Category>)}
    </div>

    <div class="flex flex-col justify-between h-2/3 px-4 py-4 space-y-4">
      <a href="#">
        <p class="text-xs text-recandy-gray-800">{author}</p>
      </a>

      <a href="#">
        <h5 class="text-base font-medium">{title}</h5>
      </a>

      <div class="flex flex-row items-center justify-between">
        <p class="text-recandy-blue-700 text-sm">{priceTag}</p>

        <Button size={"small"} textSize={"sm"}>
          <a href="/codemart-frontend/product-details"> Show Details</a>
        </Button>
      </div>
    </div>
  </div>
</div>
